{"id":"223","title":"Rectangle Area","difficulty":"Medium","content":"<p>Given the coordinates of two <strong>rectilinear</strong> rectangles in a 2D plane, return <em>the total area covered by the two rectangles</em>.</p>\n\n<p>The first rectangle is defined by its <strong>bottom-left</strong> corner <code>(ax1, ay1)</code> and its <strong>top-right</strong> corner <code>(ax2, ay2)</code>.</p>\n\n<p>The second rectangle is defined by its <strong>bottom-left</strong> corner <code>(bx1, by1)</code> and its <strong>top-right</strong> corner <code>(bx2, by2)</code>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n<img alt=\"Rectangle Area\" src=\"https://assets.leetcode.com/uploads/2021/05/08/rectangle-plane.png\" style=\"width: 700px; height: 365px;\" />\n<pre>\n<strong>Input:</strong> ax1 = -3, ay1 = 0, ax2 = 3, ay2 = 4, bx1 = 0, by1 = -1, bx2 = 9, by2 = 2\n<strong>Output:</strong> 45\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> ax1 = -2, ay1 = -2, ax2 = 2, ay2 = 2, bx1 = -2, by1 = -2, bx2 = 2, by2 = 2\n<strong>Output:</strong> 16\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>-10<sup>4</sup> &lt;= ax1 &lt;= ax2 &lt;= 10<sup>4</sup></code></li>\n\t<li><code>-10<sup>4</sup> &lt;= ay1 &lt;= ay2 &lt;= 10<sup>4</sup></code></li>\n\t<li><code>-10<sup>4</sup> &lt;= bx1 &lt;= bx2 &lt;= 10<sup>4</sup></code></li>\n\t<li><code>-10<sup>4</sup> &lt;= by1 &lt;= by2 &lt;= 10<sup>4</sup></code></li>\n</ul>\n","tags":["Math","Geometry"],"java_snippet":"class Solution {\n    public int computeArea(int ax1, int ay1, int ax2, int ay2, int bx1, int by1, int bx2, int by2) {\n        \n    }\n}","solution":"<h2><a href=\"#solution\"><svg><path></path></svg></a>Solution</h2>\n<hr/>\n<h3><a href=\"#overview\"><svg><path></path></svg></a>Overview</h3>\n<p>In this problem, we are given the coordinates of four points on a 2D plane. Two of them belong to the bottom left, and top right corners of rectangle A, and the other two belong to the bottom left and top right corners of rectangle B. The sides of the rectangles are parallel to the x and y axes. Using these points, we need to find the total area covered by two rectangles.</p>\n<p>Without an indicative diagram, we might think it'll simply be the addition of the individual areas of both rectangles. And that's the most common mistake people make with this question. The two rectangles could potentially overlap with each other. Considering this, let's see how to go about the problem's solution.</p>\n<hr/>\n<h3><a href=\"#approach-math-and-geometry\"><svg><path></path></svg></a>Approach: Math and Geometry</h3>\n<h4>Intuition</h4>\n<p>As explained in the overview section above, calculating the individual areas of both rectangles is easy enough. We have the coordinates of top right and bottom left corners - (x1,y1) and (x2,y2). In this case, the area of the rectangle would be height∗width or in other words, (y2−y1)∗(x2−x1). We can calculate the area of both rectangles and sum it together.</p>\n<p>But, the rectangles could potentially have an overlap between them. This means we might be counting the overlapping area twice, which should have been added only once. So, to get the final answer, we need to subtract the overlapping area from the total area.</p>\n<p></p>\n<br/>\n<h5>Finding the overlap</h5>\n<p>To find the overlap, we need to find the width and height of the overlapping area (if there is any). We can get the width by finding the overlap in the horizontal or x direction. height can be calculated by finding the overlap in the y direction.</p>\n<p>To find the x overlap, let's think about the projection made by the corners of the rectangles on the x-axis. In other words, draw a line perpendicular to the x-axis from both rectangles' bottom left and top right corners. We mark the points at which these lines meet the x-axis. We can see that these points create two line segments - one formed by (ax1,0),(ax2,0), and the other one formed by (bx1,0),(bx2,0).</p>\n<p></p>\n<p>Now, finding x overlap is equivalent to finding the intersection of these two line segments.</p>\n<p></p>\n<p></p>\n<p>From the image above, we can see that if there is an overlap, min(ax2,bx2)−max(ax1,bx1) will be a positive quantity equal to the x overlap of the two rectangles. If the amount is negative or 0, there is no overlap between the two lines (and rectangles).</p>\n<p>xOverlap=min(ax2,bx2)−max(ax1,bx1)</p>\n<p>In a similar way, we can find the y overlap of the two rectangles.</p>\n<p>yOverlap=min(ay2,by2)−max(ay1,by1)</p>\n<p>The area of the overlap overlap=xOverlap∗yOverlap.</p>\n<p>The total area considering the overlap between the two rectangles:</p>\n<p>area=areaA+areaB−overlap</p>\n<h4>Algorithm</h4>\n<ol>\n<li>\n<p>We are given four points - ax1,ay1,ax2,ay2 and bx1,by1,bx2,by2.</p>\n</li>\n<li>\n<p>Calculate areaA and areaB by multiplying width and height of the respective rectangles.</p>\n</li>\n<li>\n<p>Calculate the x overlap:</p>\n<p>xOverlap=min(ax2,bx2)−max(ax1,bx1)</p>\n</li>\n<li>\n<p>Calculate the y overlap:</p>\n<p>yOverlap=min(ay2,by2)−max(ay1,by1)</p>\n</li>\n<li>\n<p>If xOverlap and yOverlap, both are positive, multiply x and y overlaps to get the area of the overlap. Otherwise, it is 0.</p>\n</li>\n<li>\n<p>Calculate the total area as - areaA+areaB−overlap.</p>\n</li>\n<li>\n<p>Return the total area.</p>\n</li>\n</ol>\n<p></p>\n<h4>Implementation</h4>\n<pre><code>class Solution {\n    public int computeArea(int ax1, int ay1, int ax2, int ay2, int bx1, int by1, int bx2, int by2) {\n        int areaOfA = (ay2 - ay1) * (ax2 - ax1);\n        int areaOfB = (by2 - by1) * (bx2 - bx1);\n​\n        // calculate x overlap\n        int left = Math.max(ax1, bx1);\n        int right = Math.min(ax2, bx2);\n        int xOverlap = right - left;\n​\n        // calculate y overlap\n        int top = Math.min(ay2, by2);\n        int bottom = Math.max(ay1, by1);\n        int yOverlap = top - bottom;\n​\n        int areaOfOverlap = 0;\n        // if the rectangles overlap each other, then calculate\n        // the area of the overlap\n        if (xOverlap &gt; 0 &amp;&amp; yOverlap &gt; 0) {\n            areaOfOverlap = xOverlap * yOverlap;\n        }\n​\n        // areaOfOverlap is counted twice when in the summation of\n        // areaOfA and areaOfB, so we need to subtract it from the\n        // total, to get the toal area covered by both the rectangles\n        int totalArea = areaOfA + areaOfB - areaOfOverlap;\n​\n        return totalArea;\n    }\n}</code></pre>\n<h4>Complexity Analysis</h4>\n<ul>\n<li>\n<p>Time complexity: O(1). Given the coordinates of rectangles' corners, calculating the areas of each individual rectangle and the overlap can be considered a constant time operation. So the final time complexity is O(1).</p>\n</li>\n<li>\n<p>Space complexity: O(1). We don't make use of any external data structure for this question. So, space requirements can be considered constant. So the final space complexity is O(1).</p>\n</li>\n</ul>"}