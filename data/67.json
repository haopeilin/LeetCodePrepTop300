{"id":"67","title":"Add Binary","difficulty":"Easy","content":"<p>Given two binary strings <code>a</code> and <code>b</code>, return <em>their sum as a binary string</em>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n<pre><strong>Input:</strong> a = \"11\", b = \"1\"\n<strong>Output:</strong> \"100\"\n</pre><p><strong class=\"example\">Example 2:</strong></p>\n<pre><strong>Input:</strong> a = \"1010\", b = \"1011\"\n<strong>Output:</strong> \"10101\"\n</pre>\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= a.length, b.length &lt;= 10<sup>4</sup></code></li>\n\t<li><code>a</code> and <code>b</code> consist&nbsp;only of <code>&#39;0&#39;</code> or <code>&#39;1&#39;</code> characters.</li>\n\t<li>Each string does not contain leading zeros except for the zero itself.</li>\n</ul>\n","tags":["Math","String","Bit Manipulation","Simulation"],"java_snippet":"class Solution {\n    public String addBinary(String a, String b) {\n        \n    }\n}","solution":"<div class=\"flex flex-col w-full\" style=\"position: relative;\"><div class=\"mYe_l WRmCx\"><h2 class=\"group/heading relative\" id=\"solution\" level=\"2\"><a aria-hidden=\"true\" class=\"!text-sd-muted-foreground absolute right-full top-1/2 -translate-y-1/2 cursor-pointer pr-0.5 text-xs opacity-0 group-hover/heading:opacity-100\" href=\"#solution\" tabindex=\"-1\"><div class=\"relative text-[12px] leading-[normal] p-[1px] before:block before:h-3 before:w-3\"><svg aria-hidden=\"true\" class=\"svg-inline--fa fa-link absolute left-1/2 top-1/2 h-[1em] -translate-x-1/2 -translate-y-1/2 align-[-0.125em]\" data-icon=\"link\" data-prefix=\"fas\" focusable=\"false\" role=\"img\" spacing=\"square\" viewbox=\"0 0 640 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z\" fill=\"currentColor\"></path></svg></div></a>Solution</h2>\n<hr/>\n<h3 class=\"group/heading relative\" id=\"overview\" level=\"3\"><a aria-hidden=\"true\" class=\"!text-sd-muted-foreground absolute right-full top-1/2 -translate-y-1/2 cursor-pointer pr-0.5 text-xs opacity-0 group-hover/heading:opacity-100\" href=\"#overview\" tabindex=\"-1\"><div class=\"relative text-[12px] leading-[normal] p-[1px] before:block before:h-3 before:w-3\"><svg aria-hidden=\"true\" class=\"svg-inline--fa fa-link absolute left-1/2 top-1/2 h-[1em] -translate-x-1/2 -translate-y-1/2 align-[-0.125em]\" data-icon=\"link\" data-prefix=\"fas\" focusable=\"false\" role=\"img\" spacing=\"square\" viewbox=\"0 0 640 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z\" fill=\"currentColor\"></path></svg></div></a>Overview</h3>\n<p>There is a simple way to use built-in functions:</p>\n<ul>\n<li>\n<p>Convert a and b into integers.</p>\n</li>\n<li>\n<p>Compute the sum.</p>\n</li>\n<li>\n<p>Convert the sum back into binary form.</p>\n</li>\n</ul>\n<pre><code>class Solution {\npublic:\n    string addBinary(string a, string b) {\n        int numA = stoi(a, nullptr, 2);  // Convert binary string to integer\n        int numB = stoi(b, nullptr, 2);  // Convert binary string to integer\n        int sum = numA + numB;           // Sum the integers\n        if (sum == 0) return \"0\";\n        string binary =\n            bitset&lt;32&gt;(sum).to_string();  // Convert sum to binary string\n        return binary.substr(binary.find('1'));\n    }\n};</code></pre>\n<p>The overall algorithm has <span class=\"math math-inline\"><span class=\"katex\"><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 1em; vertical-align: -0.25em;\"></span><span class=\"mord mathcal\" style=\"margin-right: 0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right: 0.10903em;\">N</span><span class=\"mspace\" style=\"margin-right: 0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right: 0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height: 1em; vertical-align: -0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right: 0.10903em;\">M</span><span class=\"mclose\">)</span></span></span></span></span> time complexity and has two drawbacks that could be used against you during the interview.</p>\n<blockquote>\n<ol>\n<li data-length=\"1\">In Java, this approach is limited by the length of the input strings a and b. Once the string is long enough, the result of conversion into integers will not fit into Integer, Long, or BigInteger:</li>\n</ol>\n</blockquote>\n<ul>\n<li>\n<p>33 1-bits - and b doesn't fit into Integer.</p>\n</li>\n<li>\n<p>65 1-bits - and b doesn't fit into Long.</p>\n</li>\n<li>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigInteger.html\" target=\"_blank\">2147483647</a> 1-bits - and b doesn't fit into BigInteger.</p>\n</li>\n</ul>\n<p>To fix the issue, one could use a standard Bit-by-Bit Computation approach which is suitable for quite long input strings.</p>\n<blockquote>\n<ol start=\"2\">\n<li data-length=\"1\">This method has quite low performance in the case of large input numbers.</li>\n</ol>\n</blockquote>\n<p>One could use the Bit Manipulation approach to speed up the solution.</p>\n<hr/>\n<h3 class=\"group/heading relative\" id=\"approach-1-bit-by-bit-computation\" level=\"3\"><a aria-hidden=\"true\" class=\"!text-sd-muted-foreground absolute right-full top-1/2 -translate-y-1/2 cursor-pointer pr-0.5 text-xs opacity-0 group-hover/heading:opacity-100\" href=\"#approach-1-bit-by-bit-computation\" tabindex=\"-1\"><div class=\"relative text-[12px] leading-[normal] p-[1px] before:block before:h-3 before:w-3\"><svg aria-hidden=\"true\" class=\"svg-inline--fa fa-link absolute left-1/2 top-1/2 h-[1em] -translate-x-1/2 -translate-y-1/2 align-[-0.125em]\" data-icon=\"link\" data-prefix=\"fas\" focusable=\"false\" role=\"img\" spacing=\"square\" viewbox=\"0 0 640 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z\" fill=\"currentColor\"></path></svg></div></a>Approach 1: Bit-by-Bit Computation</h3>\n<p><strong>Algorithm</strong></p>\n<p>That's a good old classical algorithm, and there is no conversion from binary string to decimal and back here. Let's consider the numbers bit by bit starting from the lowest one and compute the carry this bit will add.</p>\n<p>Start from carry = 0. If a number a has 1-bit in this lowest bit, add 1 to the carry. The same is true for number b: if number b has 1-bit in the lowest bit, add 1 to the carry. At this point, the carry for the lowest bit could be equal to <span class=\"math math-inline\"><span class=\"katex\"><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 1em; vertical-align: -0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">00</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height: 0.3011em;\"><span style=\"top: -2.55em; margin-left: 0em; margin-right: 0.05em;\"><span class=\"pstrut\" style=\"height: 2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height: 0.15em;\"><span></span></span></span></span></span></span></span></span></span></span>, <span class=\"math math-inline\"><span class=\"katex\"><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 1em; vertical-align: -0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">01</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height: 0.3011em;\"><span style=\"top: -2.55em; margin-left: 0em; margin-right: 0.05em;\"><span class=\"pstrut\" style=\"height: 2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height: 0.15em;\"><span></span></span></span></span></span></span></span></span></span></span>, or <span class=\"math math-inline\"><span class=\"katex\"><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 1em; vertical-align: -0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">10</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height: 0.3011em;\"><span style=\"top: -2.55em; margin-left: 0em; margin-right: 0.05em;\"><span class=\"pstrut\" style=\"height: 2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height: 0.15em;\"><span></span></span></span></span></span></span></span></span></span></span>.</p>\n<p>Now append the lowest bit of the carry to the answer, and move the highest bit of the carry to the next order bit.</p>\n<p>Repeat the same steps again, and again, till all bits in a and b are used up. If there is still nonzero carry to add, add it. Now reverse the answer string and the job is done.</p>\n<p></p>\n<p><strong>Implementation</strong></p>\n<pre><code>class Solution {\npublic:\n    string addBinary(string a, string b) {\n        int n = a.size(), m = b.size();\n        if (n &lt; m)\n            return addBinary(b, a);  // Ensure 'a' is always the longer string\n​\n        string result;\n        int carry = 0, j = m - 1;\n​\n        for (int i = n - 1; i &gt;= 0; --i) {\n            if (a[i] == '1') ++carry;\n            if (j &gt;= 0 &amp;&amp; b[j--] == '1') ++carry;\n​\n            result.push_back((carry % 2) ? '1' : '0');\n            carry /= 2;\n        }\n​\n        if (carry == 1) result.push_back('1');  // Handle the last carry\n​\n        reverse(result.begin(),\n                result.end());  // The result is built in reverse\n        return result;\n    }\n};</code></pre>\n<p><strong>Complexity Analysis</strong></p>\n<ul>\n<li>\n<p>Time complexity: <span class=\"math math-inline\"><span class=\"katex\"><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 1em; vertical-align: -0.25em;\"></span><span class=\"mord mathcal\" style=\"margin-right: 0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mop\">max</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right: 0.10903em;\">N</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right: 0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right: 0.10903em;\">M</span><span class=\"mclose\">))</span></span></span></span></span>, where <span class=\"math math-inline\"><span class=\"katex\"><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right: 0.10903em;\">N</span></span></span></span></span> and <span class=\"math math-inline\"><span class=\"katex\"><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right: 0.10903em;\">M</span></span></span></span></span> are lengths of the input strings a and b.</p>\n</li>\n<li>\n<p>Space complexity: <span class=\"math math-inline\"><span class=\"katex\"><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 1em; vertical-align: -0.25em;\"></span><span class=\"mord mathcal\" style=\"margin-right: 0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mop\">max</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right: 0.10903em;\">N</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right: 0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right: 0.10903em;\">M</span><span class=\"mclose\">))</span></span></span></span></span> to keep the answer.</p>\n</li>\n</ul>\n<hr/>\n<h3 class=\"group/heading relative\" id=\"approach-2-bit-manipulation\" level=\"3\"><a aria-hidden=\"true\" class=\"!text-sd-muted-foreground absolute right-full top-1/2 -translate-y-1/2 cursor-pointer pr-0.5 text-xs opacity-0 group-hover/heading:opacity-100\" href=\"#approach-2-bit-manipulation\" tabindex=\"-1\"><div class=\"relative text-[12px] leading-[normal] p-[1px] before:block before:h-3 before:w-3\"><svg aria-hidden=\"true\" class=\"svg-inline--fa fa-link absolute left-1/2 top-1/2 h-[1em] -translate-x-1/2 -translate-y-1/2 align-[-0.125em]\" data-icon=\"link\" data-prefix=\"fas\" focusable=\"false\" role=\"img\" spacing=\"square\" viewbox=\"0 0 640 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z\" fill=\"currentColor\"></path></svg></div></a>Approach 2: Bit Manipulation</h3>\n<p><strong>Intuition</strong></p>\n<p>Here the input is more adapted to push towards Approach 1, but there is a popular Facebook variation of this problem when the interviewer provides you with two numbers and asks to sum them up without using the addition operation.</p>\n<blockquote>\n<p>No addition? OK, bit manipulation then.</p>\n</blockquote>\n<p>How to start? There is an interview tip for bit manipulation problems: if you don't know how to start, start by computing XOR for your input data. Strangely, that helps to go out for quite a lot of problems, <a href=\"https://leetcode.com/articles/single-number-ii/\" target=\"_blank\">Single Number II</a>, <a href=\"https://leetcode.com/articles/single-number-iii/\" target=\"_blank\">Single Number III</a>, <a href=\"https://leetcode.com/articles/maximum-xor-of-two-numbers-in-an-array/\" target=\"_blank\">Maximum XOR of Two Numbers in an Array</a>, <a href=\"https://leetcode.com/articles/repeated-dna-sequences/\" target=\"_blank\">Repeated DNA Sequences</a>, <a href=\"https://leetcode.com/articles/maximum-product-of-word-lengths/\" target=\"_blank\">Maximum Product of Word Lengths</a>, etc.</p>\n<p>Here XOR is a key as well because it's a sum of two binaries without taking carry into account.</p>\n<p></p>\n<p>To find the current carry is quite easy as well, it's AND of two input numbers, shifted one bit to the left.</p>\n<p></p>\n<p>Now the problem is reduced: one has to find the sum of answers without carry and carry. It's the same problem - to sum two numbers, and hence one could solve it in a loop with the condition statement \"while carry is not equal to zero\".</p>\n<p><strong>Algorithm</strong></p>\n<ul>\n<li>\n<p>Convert a and b into integers x and y, x will be used to keep an answer, and y for the carry.</p>\n</li>\n<li>\n<p>While carry is nonzero: <code>y != 0</code>:</p>\n<ul>\n<li>\n<p>Current answer without carry is XOR of x and y: <code>answer = x^y</code>.</p>\n</li>\n<li>\n<p>Current carry is left-shifted AND of x and y: <code>carry = (x &amp; y) &lt;&lt; 1</code>.</p>\n</li>\n<li>\n<p>Job is done, prepare the next loop: <code>x = answer</code>, <code>y = carry</code>.</p>\n</li>\n</ul>\n</li>\n<li>\n<p>Return x in the binary form.</p>\n</li>\n</ul>\n<p><strong>Implementation</strong></p>\n<pre><code>class BigInt {\nprivate:\n    string binary;\n​\n    // Helper function to ensure strings are the same length\n    static void equalizeLength(string&amp; a, string&amp; b) {\n        int lengthDifference = a.size() - b.size();\n        if (lengthDifference &gt; 0)\n            b.insert(0, lengthDifference, '0');\n        else\n            a.insert(0, -lengthDifference, '0');\n    }\n​\n    // Helper function to remove leading zeros\n    void removeLeadingZeros() {\n        // Erase leading zeros while keeping at least one zero if the number is\n        // zero\n        auto firstNonZero = binary.find_first_not_of('0');\n        if (firstNonZero != string::npos) {\n            binary.erase(0, firstNonZero);\n        } else {\n            binary =\n                \"0\";  // Adjust to maintain a minimum representation of zero\n        }\n    }\n​\npublic:\n    BigInt() : binary(\"0\") {}\n​\n    // Constructor from a binary string\n    BigInt(const string&amp; bin) : binary(bin) { removeLeadingZeros(); }\n​\n    // Bitwise XOR\n    BigInt operator^(const BigInt&amp; other) const {\n        string a = binary;\n        string b = other.binary;\n        equalizeLength(a, b);\n        string result;\n        for (size_t i = 0; i &lt; a.size(); i++) {\n            char xorChar = (a[i] == b[i] ? '0' : '1');\n            result.push_back(xorChar);\n        }\n        return BigInt(result);\n    }\n​\n    // Bitwise AND\n    BigInt operator&amp;(const BigInt&amp; other) const {\n        string a = binary;\n        string b = other.binary;\n        equalizeLength(a, b);\n        string result;\n        for (size_t i = 0; i &lt; a.size(); i++) {\n            char andChar = (a[i] == '1' &amp;&amp; b[i] == '1' ? '1' : '0');\n            result.push_back(andChar);\n        }\n        return BigInt(result);\n    }\n​\n    // Left shift\n    BigInt operator&lt;&lt;(int shift) const {\n        string result = binary;\n        result.append(shift, '0');\n        return BigInt(result);\n    }\n​\n    // Check if BigInt is zero\n    bool isZero() const {\n        for (char c : binary)\n            if (c != '0') return false;\n        return true;\n    }\n​\n    // Getter for binary string\n    string getBinary() const { return binary; }\n};\n​\nclass Solution {\npublic:\n    string addBinary(string a, string b) {\n        BigInt x(a);\n        BigInt y(b);\n        BigInt carry, answer;\n​\n        while (!y.isZero()) {\n            answer = x ^ y;\n            carry = (x &amp; y) &lt;&lt; 1;\n            x = answer;\n            y = carry;\n        }\n        return x.getBinary();\n    }\n};</code></pre>\n<p>This solution could be written as a 4-liner in Python</p>\n<div class=\"font-menlo mb-6 rounded-lg px-3 py-2.5 text-sm bg-fill-3 dark:bg-dark-fill-3\"><div class=\"group relative\" translate=\"no\"><pre style=\"color: black; font-size: 13px; text-shadow: none; font-family: Menlo, Monaco, Consolas; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; background: transparent; overflow-wrap: normal;\"><code class=\"language-ruby\" style=\"white-space: pre; text-shadow: none;\"><span><span class=\"token\" style=\"color: rgb(0, 119, 170);\">class</span><span> </span><span class=\"token\" style=\"color: rgb(221, 74, 104);\">Solution</span><span class=\"token\" style=\"color: rgb(154, 110, 58);\">:</span><span>\n</span></span><span><span>    </span><span class=\"token\" style=\"color: rgb(0, 119, 170);\">def</span><span> </span><span class=\"token method-definition\" style=\"color: rgb(221, 74, 104);\">addBinary</span><span class=\"token\" style=\"color: rgb(153, 153, 153);\">(</span><span class=\"token\" style=\"color: rgb(0, 119, 170);\">self</span><span class=\"token\" style=\"color: rgb(153, 153, 153);\">,</span><span> a</span><span class=\"token\" style=\"color: rgb(153, 153, 153);\">,</span><span> b</span><span class=\"token\" style=\"color: rgb(153, 153, 153);\">)</span><span> </span><span class=\"token\" style=\"color: rgb(154, 110, 58);\">-</span><span class=\"token\" style=\"color: rgb(154, 110, 58);\">&gt;</span><span> str</span><span class=\"token\" style=\"color: rgb(154, 110, 58);\">:</span><span>\n</span></span><span><span>        x</span><span class=\"token\" style=\"color: rgb(153, 153, 153);\">,</span><span> y </span><span class=\"token\" style=\"color: rgb(154, 110, 58);\">=</span><span> int</span><span class=\"token\" style=\"color: rgb(153, 153, 153);\">(</span><span>a</span><span class=\"token\" style=\"color: rgb(153, 153, 153);\">,</span><span> </span><span class=\"token\" style=\"color: rgb(153, 0, 85);\">2</span><span class=\"token\" style=\"color: rgb(153, 153, 153);\">)</span><span class=\"token\" style=\"color: rgb(153, 153, 153);\">,</span><span> int</span><span class=\"token\" style=\"color: rgb(153, 153, 153);\">(</span><span>b</span><span class=\"token\" style=\"color: rgb(153, 153, 153);\">,</span><span> </span><span class=\"token\" style=\"color: rgb(153, 0, 85);\">2</span><span class=\"token\" style=\"color: rgb(153, 153, 153);\">)</span><span>\n</span></span><span><span>        </span><span class=\"token\" style=\"color: rgb(0, 119, 170);\">while</span><span> y</span><span class=\"token\" style=\"color: rgb(154, 110, 58);\">:</span><span>\n</span></span><span><span>            x</span><span class=\"token\" style=\"color: rgb(153, 153, 153);\">,</span><span> y </span><span class=\"token\" style=\"color: rgb(154, 110, 58);\">=</span><span> x </span><span class=\"token\" style=\"color: rgb(154, 110, 58);\">^</span><span> y</span><span class=\"token\" style=\"color: rgb(153, 153, 153);\">,</span><span> </span><span class=\"token\" style=\"color: rgb(153, 153, 153);\">(</span><span>x </span><span class=\"token\" style=\"color: rgb(154, 110, 58);\">&amp;</span><span> y</span><span class=\"token\" style=\"color: rgb(153, 153, 153);\">)</span><span> </span><span class=\"token\" style=\"color: rgb(154, 110, 58);\">&lt;&lt;</span><span> </span><span class=\"token\" style=\"color: rgb(153, 0, 85);\">1</span><span>\n</span></span><span><span>        </span><span class=\"token\" style=\"color: rgb(0, 119, 170);\">return</span><span> bin</span><span class=\"token\" style=\"color: rgb(153, 153, 153);\">(</span><span>x</span><span class=\"token\" style=\"color: rgb(153, 153, 153);\">)</span><span class=\"token\" style=\"color: rgb(153, 153, 153);\">[</span><span class=\"token\" style=\"color: rgb(153, 0, 85);\">2</span><span class=\"token\" style=\"color: rgb(154, 110, 58);\">:</span><span class=\"token\" style=\"color: rgb(153, 153, 153);\">]</span></span></code></pre><div class=\"absolute -right-1.5 -top-0.5 flex gap-2\"><div class=\"z-base-1 hidden rounded border group-hover:block border-border-quaternary dark:border-border-quaternary bg-layer-02 dark:bg-layer-02\"><div class=\"relative cursor-pointer flex h-[22px] w-[22px] items-center justify-center bg-layer-02 dark:bg-layer-02 hover:bg-fill-tertiary dark:hover:bg-fill-tertiary rounded-[4px]\" data-state=\"closed\"><div><div data-state=\"closed\"><div class=\"relative text-[12px] leading-[normal] p-[1px] before:block before:h-3 before:w-3 h-3.5 w-3.5 text-text-primary dark:text-text-primary\"><svg aria-hidden=\"true\" class=\"svg-inline--fa fa-clone absolute left-1/2 top-1/2 h-[1em] -translate-x-1/2 -translate-y-1/2 align-[-0.125em]\" data-icon=\"clone\" data-prefix=\"far\" focusable=\"false\" role=\"img\" viewbox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M64 464H288c8.8 0 16-7.2 16-16V384h48v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h64v48H64c-8.8 0-16 7.2-16 16V448c0 8.8 7.2 16 16 16zM224 304H448c8.8 0 16-7.2 16-16V64c0-8.8-7.2-16-16-16H224c-8.8 0-16 7.2-16 16V288c0 8.8 7.2 16 16 16zm-64-16V64c0-35.3 28.7-64 64-64H448c35.3 0 64 28.7 64 64V288c0 35.3-28.7 64-64 64H224c-35.3 0-64-28.7-64-64z\" fill=\"currentColor\"></path></svg></div></div></div></div></div></div></div></div>\n<p><strong>Performance Discussion</strong></p>\n<p>Here we deal with input numbers which are greater than <span class=\"math math-inline\"><span class=\"katex\"><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height: 0.8141em;\"><span style=\"top: -3.063em; margin-right: 0.05em;\"><span class=\"pstrut\" style=\"height: 2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">100</span></span></span></span></span></span></span></span></span></span></span></span></span>. That forces to use slow <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigInteger.html\" target=\"_blank\">BigInteger</a> in Java, and hence the performance gain will be present for the Python solution only. Provided here Java solution could do its best with Integers or Longs, but not with BigIntegers.</p>\n<p><strong>Complexity Analysis</strong></p>\n<ul>\n<li>\n<p>Time complexity: <span class=\"math math-inline\"><span class=\"katex\"><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 1em; vertical-align: -0.25em;\"></span><span class=\"mord mathcal\" style=\"margin-right: 0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right: 0.10903em;\">N</span><span class=\"mspace\" style=\"margin-right: 0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right: 0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height: 1em; vertical-align: -0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right: 0.10903em;\">M</span><span class=\"mclose\">)</span></span></span></span></span>, where <span class=\"math math-inline\"><span class=\"katex\"><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right: 0.10903em;\">N</span></span></span></span></span> and <span class=\"math math-inline\"><span class=\"katex\"><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right: 0.10903em;\">M</span></span></span></span></span> are lengths of the input strings a and b.</p>\n</li>\n<li>\n<p>Space complexity: <span class=\"math math-inline\"><span class=\"katex\"><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 1em; vertical-align: -0.25em;\"></span><span class=\"mord mathcal\" style=\"margin-right: 0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mop\">max</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right: 0.10903em;\">N</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right: 0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right: 0.10903em;\">M</span><span class=\"mclose\">))</span></span></span></span></span> to keep the answer.</p>\n</li>\n</ul></div><span style=\"font-size: 0px; line-height: 0;\"> </span></div>"}